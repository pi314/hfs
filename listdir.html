<html>
  <head>
    <title>{{ host }} - Nano http server</title>
    <style>
      * {
        font-family: monospace;
      }
      ul {
        list-style: none;
        font-size: 20px;
      }
      .hidden {
        display: none;
      }
      .showen {
        display: block;
      }
      .btn {
        cursor: pointer;
        color: navy;
      }
    </style>
    <script>
      function show_hidden_files () {
        document.getElementById('btn-show-hidden-files').className = 'hidden';
        document.getElementById('hidden-files').className = '';
      }
      function hide_hidden_files () {
        document.getElementById('btn-show-hidden-files').className = '';
        document.getElementById('hidden-files').className = 'hidden';
      }
    </script>
  </head>
  <body>
    <h2>
      <a href="/">{{ host }}</a>
      % for dhref, dtext in upper_dir_list:
        <span>/</span> <a href="/{{ dhref }}">{{ dtext }}</a>
      % end
    </h2>
    <ul id="btn-show-hidden-files">
      <li class="btn" onclick="show_hidden_files();">[&#8594; show hidden files]</li>
    </ul>
    <ul id="hidden-files" class="hidden">
      <li class="btn" onclick="hide_hidden_files();">[&#8595; hide hidden files]</li>
      % for fhref,ftext in hidden_file_list:
      <li><a href="/{{ curdir }}/{{ fhref }}">{{ ftext }}</a></li>
      % end
      <li class="btn" onclick="hide_hidden_files();">[&#8593; hide hidden files]</li>
    </ul>
    <ul>
      % for fhref,ftext in file_list:
      <li><a href="/{{ curdir }}/{{ fhref }}">{{ ftext }}</a></li>
      % end
    </ul>
    <hr>
    <h2>Upload file:</h2>
    <form method="POST" action="/{{ curdir }}" enctype="multipart/form-data">
      <input type="file" name="upload">
      <input type="submit" value="上傳">
    </form>
  </body>
</html>
